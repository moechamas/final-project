{"ast":null,"code":"const base64url = require('../help/base64url');\nconst errors = require('../errors');\nmodule.exports = (token, {\n  complete = false\n} = {}) => {\n  if (typeof token !== 'string' || !token) {\n    throw new TypeError('JWT must be a string');\n  }\n  const {\n    0: header,\n    1: payload,\n    2: signature,\n    length\n  } = token.split('.');\n  if (length === 5) {\n    throw new TypeError('encrypted JWTs cannot be decoded');\n  }\n  if (length !== 3) {\n    throw new errors.JWTMalformed('JWTs must have three components');\n  }\n  try {\n    const result = {\n      header: base64url.JSON.decode(header),\n      payload: base64url.JSON.decode(payload),\n      signature\n    };\n    return complete ? result : result.payload;\n  } catch (err) {\n    throw new errors.JWTMalformed('JWT is malformed');\n  }\n};","map":{"version":3,"names":["base64url","require","errors","module","exports","token","complete","TypeError","header","payload","signature","length","split","JWTMalformed","result","JSON","decode","err"],"sources":["/Users/chamas/Final-Project/final-project/node_modules/jose/lib/jwt/decode.js"],"sourcesContent":["const base64url = require('../help/base64url')\nconst errors = require('../errors')\n\nmodule.exports = (token, { complete = false } = {}) => {\n  if (typeof token !== 'string' || !token) {\n    throw new TypeError('JWT must be a string')\n  }\n\n  const { 0: header, 1: payload, 2: signature, length } = token.split('.')\n\n  if (length === 5) {\n    throw new TypeError('encrypted JWTs cannot be decoded')\n  }\n\n  if (length !== 3) {\n    throw new errors.JWTMalformed('JWTs must have three components')\n  }\n\n  try {\n    const result = {\n      header: base64url.JSON.decode(header),\n      payload: base64url.JSON.decode(payload),\n      signature\n    }\n\n    return complete ? result : result.payload\n  } catch (err) {\n    throw new errors.JWTMalformed('JWT is malformed')\n  }\n}\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAC9C,MAAMC,MAAM,GAAGD,OAAO,CAAC,WAAW,CAAC;AAEnCE,MAAM,CAACC,OAAO,GAAG,CAACC,KAAK,EAAE;EAAEC,QAAQ,GAAG;AAAM,CAAC,GAAG,CAAC,CAAC,KAAK;EACrD,IAAI,OAAOD,KAAK,KAAK,QAAQ,IAAI,CAACA,KAAK,EAAE;IACvC,MAAM,IAAIE,SAAS,CAAC,sBAAsB,CAAC;EAC7C;EAEA,MAAM;IAAE,CAAC,EAAEC,MAAM;IAAE,CAAC,EAAEC,OAAO;IAAE,CAAC,EAAEC,SAAS;IAAEC;EAAO,CAAC,GAAGN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC;EAExE,IAAID,MAAM,KAAK,CAAC,EAAE;IAChB,MAAM,IAAIJ,SAAS,CAAC,kCAAkC,CAAC;EACzD;EAEA,IAAII,MAAM,KAAK,CAAC,EAAE;IAChB,MAAM,IAAIT,MAAM,CAACW,YAAY,CAAC,iCAAiC,CAAC;EAClE;EAEA,IAAI;IACF,MAAMC,MAAM,GAAG;MACbN,MAAM,EAAER,SAAS,CAACe,IAAI,CAACC,MAAM,CAACR,MAAM,CAAC;MACrCC,OAAO,EAAET,SAAS,CAACe,IAAI,CAACC,MAAM,CAACP,OAAO,CAAC;MACvCC;IACF,CAAC;IAED,OAAOJ,QAAQ,GAAGQ,MAAM,GAAGA,MAAM,CAACL,OAAO;EAC3C,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACZ,MAAM,IAAIf,MAAM,CAACW,YAAY,CAAC,kBAAkB,CAAC;EACnD;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}